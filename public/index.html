<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>HGAFMI — Prophecies</title>
  <meta name="description" content="HGAFMI Prophecies front-end single page app (visual login, prophecies list, add prophecy form)" />

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- AOS for scroll animations -->
  <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">
 <!-- Fav -->
<link rel="icon" type="image/png" sizes="40x40" href="img/hgafmi-40x40.png">

  <!-- App CSS -->
  <link rel="stylesheet" href="css/style.css">
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="fallback.html">
<!-- IOS support-->
 <link rel="apple-touch-icon" href="icons/apple/icon-ios-64x64.png">
 <link rel="apple-touch-icon" href="icons/apple/icon-ios-20x20.png">
 <link rel="apple-touch-icon" href="icons/apple/icon-ios-29x29.png">
 <link rel="apple-touch-icon" href="icons/apple/icon-ios-64x64.png">
 <link rel="apple-touch-icon" href="icons/apple/icon-ios-128x128.png">
 <link rel="apple-touch-icon" href="icons/apple/icon-ios-512x512.png">
 <mata name="apple-mobile-web-app-status-bar" content="#3B82F6">
 <meta name="theme-color" content="#3B82F6">
</head>
<body class="bg-light">

  <!-- APP WRAPPER -->
  <div id="app" class="min-vh-100 d-flex flex-column">

    <!-- --- LOGIN SCREEN (shows first) --- -->
    <main id="screen-login" class="app-screen d-flex align-items-center justify-content-center">
      <div class="card login-card shadow-sm" data-aos="fade-up">
        <div class="card-body p-4">
          <div class="text-center mb-3">
            <!-- small logo -->
            <img width="400" height="150" aria-hidden="true" src="img/hgafmi-400x150.png" alt="hgafmi-logo">
          </img>
          </div>

          <h4 class="card-title text-center mb-2">Welcome back</h4>
          <p class="text-muted text-center small mb-4">Sign in to view your prophecies.</p>

          <form id="loginForm" class="mb-2" aria-label="Login form">
            <div class="mb-3">
              <label for="inputEmail" class="form-label small">Email</label>
              <input id="inputEmail" class="form-control" type="email" placeholder="you@example.com" required>
            </div>
            <div class="mb-3">
              <label for="inputPassword" class="form-label small">Password</label>
              <input id="inputPassword" class="form-control" type="password" placeholder="Enter password" required>
            </div>
            <div class="d-grid">
              <button type="submit" class="btn btn-primary btn-lg">Login</button>
            </div>
          </form>

          <div class="text-center small text-muted">
            Signup is managed by app manager via Admin Console.
          </div>
        </div>
      </div>
    </main>

    <!-- --- PROPHECIES SCREEN --- -->
    <main id="screen-prophecies" class="app-screen d-none flex-grow-1 overflow-auto">
      <!-- header -->
      <header class="py-3 bg-white shadow-sm border-bottom">
        <div class="container d-flex align-items-center justify-content-between">
          <div class="d-flex align-items-center gap-3">
            <button id="btn-back-to-login" class="btn btn-link p-0 d-lg-none" title="Logout" aria-label="Logout">
              <!-- small back / logout icon -->
              <svg width="28" height="28" viewBox="0 0 24 24"><path fill="#333" d="M10 17l5-5-5-5v10z"></path></svg>
            </button>
            <div class="brand d-flex align-items-center gap-2">
              <div class="brand-mark" aria-hidden="true">
                <img width="40" height="40" src="img/hgafmi-150x150.png" > </img>
              </div>
    
              <div>
                <div class="h6 mb-0">HGAFMI Prophecies</div>
              </div>
            </div>
          </div>

          <div class="d-flex align-items-center gap-2">
            <button id="btn-refresh" class="btn btn-outline-secondary btn-sm" title="Refresh list">Refresh</button>
            <button id="btn-open-add" class="btn btn-primary btn-sm" aria-haspopup="dialog">ADD</button>
          </div>
        </div>
      </header>

      <!-- content -->
      <div class="container py-4">
        <!-- empty state -->
        <div id="emptyState" class="text-center py-5" data-aos="fade">
          <img src="" alt="" style="display:none"> <!-- placeholder if needed -->
          <h5 class="mb-2">No prophecies yet</h5>
          <p class="text-muted mb-3">Click the Add Prophecy button to create your first prophecy.</p>
          <button id="btn-empty-add" class="btn btn-primary">Add Prophecy</button>
        </div>

        <!-- prophecies list -->
        <section id="prophecyList" class="row gy-3"></section>
      </div>

      <!-- floating add button (mobile) -->
      <button id="fabAdd" class="btn btn-primary rounded-circle fab" aria-label="Add prophecy">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="#fff"><path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"></path></svg>
      </button>
    </main>

    <!-- --- ADD PROPHECY SIDE PANEL (overlay) --- -->
    <aside id="panel-add" class="side-panel" aria-hidden="true" role="dialog" aria-labelledby="addTitle">
      <div class="side-panel-inner">
        <div class="d-flex align-items-center justify-content-between mb-3">
          <div>
            <h5 id="addTitle" class="mb-0">Add Prophecy</h5>
            <small class="text-muted">Fill and save</small>
          </div>
          <button id="panel-close" class="btn btn-outline-secondary btn-sm" aria-label="Close panel">&times;</button>
        </div>

        <form id="addForm" novalidate>
          <div class="mb-3">
            <label for="propTitle" class="form-label">Title</label>
            <input id="propTitle" class="form-control" type="text" placeholder="Short title" required>
          </div>

          <div class="row g-2 mb-3">
            <div class="col-12 col-md-6">
              <label for="propDate" class="form-label">Date</label>
              <input id="propDate" class="form-control" type="date" required>
            </div>
            <div class="col-12 col-md-6">
              <label class="form-label">Time (HH : MM : SS)</label>
              <div class="d-flex gap-2">
                <input id="timeHH" class="form-control time-field" type="number" inputmode="numeric" min="0" max="23" placeholder="HH" required>
                <input id="timeMM" class="form-control time-field" type="number" inputmode="numeric" min="0" max="59" placeholder="MM" required>
                <input id="timeSS" class="form-control time-field" type="number" inputmode="numeric" min="0" max="59" placeholder="SS" required>
              </div>
              <div class="form-text small">Enter hour, minutes and seconds (like a stopwatch).</div>
            </div>
          </div>
            <div>
                 <button id="scanTextBtn" type="button" class="btn btn-primary d-flex align-items-center">
      <i class="bi bi-camera-fill me-2"></i> Scan Text
    </button>
            </div>
          <div class="mb-3">
            <label for="propDesc" class="form-label">Full Prophecy</label>
            <textarea id="propDesc" class="form-control" rows="6" placeholder="Write the prophecy details..." required></textarea>
          </div>

          <div class="d-flex gap-2">
            <button type="submit" class="btn btn-primary">Save Prophecy</button>
            <button type="button" id="btnCancel" class="btn btn-outline-secondary">Cancel</button>
          </div>
        </form>
      </div>
    </aside>

    <!-- footer (small) -->
    <footer class="py-3 text-center small text-muted">
      © HGAFMI — Demo · Built for you
    </footer>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- AOS -->
  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>

  <!-- script JS -->
  <script src="js/script.js" defer></script>
  <script src="js/app.js"></script>
  <script src="/service-worker.js"></script>
<script>
// Import the functions you need
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getFirestore, collection, getDocs, addDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";
import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-analytics.js";

// Your web app's Firebase configuration
const firebaseConfig = {
  apiKey: "AIzaSyA8TSvbR6bNe5rYBgSzLLa_WRHHlPbCoPc",
  authDomain: "hgafmiprophecies.firebaseapp.com",
  projectId: "hgafmiprophecies",
  storageBucket: "hgafmiprophecies.firebasestorage.app",
  messagingSenderId: "956620570173",
  appId: "1:956620570173:web:657864be55c5aa51b37454",
  measurementId: "G-4DVFDL7HGD"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
const analytics = getAnalytics(app);

// Export for other scripts
export { db, collection, getDocs, addDoc };


</script>
  <script>
    // initialize AOS
    document.addEventListener('DOMContentLoaded', function(){ AOS.init({ once: true, duration: 600 }); });
  </script>
</body>
</html>
